<!-- START OF CONTENT -->
    <h2 class='readable-background header-extension title center margin-bottom-large'>打印工具</h2>
    <div class='readable-background padding layer margin-bottom-large'>
		<h4 class='collapsible collapsed center padding margin-bottom' onclick='toggleCollapse(event);'>配置页面设置</h4>
        <div>
    		<h5 class='margin-bottom padding input-description'>选择纸张大小</h5>
    		<select onchange='setPageSize(this.value.split(","));' class='input margin-bottom'>
    			<option value='8.5,11'>信纸 (8.5 x 11)</option>
    			<option value='8.2667,11.6934'>A4纸</option>
    		</select>
            <h5 class='margin-bottom padding input-description'>切换纸张方向（纵向/横向）</h5>
            <button onclick='changeOrientation();' class='input margin-bottom'>切换方向</button>
            <h5 class='margin-bottom padding input-description'>选择默认卡牌尺寸</h5>
            <select onchange='setCardSize(this.value.split(","));' class='input margin-bottom'>
                <option value='2.5,3.5'>2.5 x 3.5 英寸</option>
                <option value='2.48031,3.46457'>63 x 88 毫米</option>
            </select>
            <h5 class='margin-bottom padding input-description'>或输入自定义卡牌尺寸</h5>
            <div class='margin-bottom split-grid'>
                <input type='number' id='cardWidth' class='input' value='1500' onchange='setCardSize();'>
                <input type='number' id='cardHeight' class='input' value='2100' onchange='setCardSize();'>
            </div>
            <h5 class='margin-bottom padding input-description'>输入出血边缘厚度（像素）</h5>
            <input type='number' id='cardPadding' class='input margin-bottom' value='0' min='0' onchange='setPaddingSize(this.value);'>
    		<h5 class='margin-bottom padding input-description'>输入卡牌之间的间距（像素）</h5>
            <input type='number' id='cardMargin' class='input margin-bottom' value='30' min='0' onchange='setMarginSize(this.value);'>
            <h5 class='margin-bottom padding input-description'>设置PPI（每英寸像素数）</h5>
            <input type='number' id='cardPPI' class='input margin-bottom' value='600' min='1' max='2400' onchange='setPPI(this.value);'>
            <h5 class='margin-bottom padding input-description'>包含裁切辅助线（帮助引导裁切的彩色标记；预览中可能不可见）</h5>
            <label class='checkbox-container input margin-bottom'>裁切辅助线
                <input id='cuttingAidsCheckbox' type='checkbox' onchange='setCuttingAids(this.checked);'>
                <span class='checkmark'></span>
            </label>
            <h5 class='margin-bottom padding input-description'>图像已包含出血边缘</h5>
            <label class='checkbox-container input margin-bottom'>包含出血边缘
                <input id='bleedEdgeCheckbox' type='checkbox' onchange='setBleedEdge(this.checked);' checked>
                <span class='checkmark'></span>
            </label>
            <h5 class='margin-bottom padding input-description'>出血边缘颜色</h5>
            <input id='bleedEdgeColor' type='color' class='input margin-bottom' onchange='setBleedEdgeColor(this.value);'>
            <h5 class='margin-bottom padding input-description'>将当前配置保存为默认设置</h5>
            <button onclick='saveDefaults();' class='input margin-bottom'>保存配置</button>
        </div>
	</div>
    <div class="layer margin-bottom-large">
        <div class="drop-area" style="padding: 1rem">
            <div class='padding margin-bottom-large readable-background'>
                <h5 class='margin-bottom padding input-description'>上传您想打印的图片，或直接拖放文件</h5>
                <input type='file' multiple accept='.png, .svg, .jpg, .jpeg, .bmp' placeholder='文件上传' class='input' oninput='uploadFiles(event.target.files, uploadCard, "filename");' data-dropFunction='uploadCard' data-otherParams='filename'>
            </div>
            <div class="center">
                <canvas style='height: auto; max-width:850px; width: 100%; background: #fff;'></canvas>
            </div>
        </div>
    </div>
    <div class='readable-background padding layer margin-bottom-large'>
		<h3 class='download padding' onclick='downloadCanvas();'>下载打印页面 (PNG)</h3>
		<h4 class='padding center'>（可能需要几秒钟）</h4>
	</div>
	<div class='readable-background padding layer margin-bottom-large'>
		<h3 class='download padding' onclick='downloadPDF();'>下载打印页面 (PDF)</h3>
		<h4 class='padding center'>（警告：这可能需要约15秒...）</h4>
	</div>
    <div class="readable-background layer margin-bottom-large">
        <h3 class='padding margin-bottom center'>
            想在餐桌上看到您的自制卡牌吗？
        </h3>
        <h4 class='padding'>
        	上传最多九张图片，它们将自动排列在8.5" x 11"的打印页面上，这样您就可以在家用最高600PPI的分辨率打印它们。
        </h4>
    </div>
	<script defer src='https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js'></script>
    <script defer src="/print/print.js"></script>
<!-- END OF CONTENT -->